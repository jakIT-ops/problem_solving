struct Solution;

impl Solution {
    pub fn find_disappeared_numbers(mut nums: Vec<i32>) -> Vec<i32> {
        let n = nums.len() as i32;
        for i in 0..n {
            let index = (nums[i as usize].abs() - 1) as usize;
            if nums[index] > 0 {
                nums[index] = -nums[index];
            }
        }

        let mut result = Vec::new();
        for i in 0..n {
            if nums[i as usize] > 0 {
                result.push((i + 1) as i32);
            }
        }

        result
    }
}

fn main() {
    let nums = vec![4, 3, 2, 7, 8, 2, 3, 1];
    let result = Solution::find_disappeared_numbers(nums);
    println!("Гээгдсэн тоонууд: {:?}", result); // [5, 6]
}

// Массив дотроос гээгдсэн бүх тоог олох (Find All Numbers Disappeared in an Array)
// Бодлогын тайлбар: Танд n ширхэг бүхэл тооноос бүрдэх nums массив өгөгдсөн. Массив дахь тоо бүр [1,n] завсарт (өөрөөр хэлбэл 1-ээс массивын урт хүртэлх тоонууд) оршино.
// [1,n] завсарт байгаа боловч nums массив дотор байхгүй байгаа бүх бүхэл тоог олж, массив хэлбэрээр буцаана уу.
//
// Жишээ 1:
//     Оролт: nums = [4, 3, 2, 7, 8, 2, 3, 1]
//     Гаралт: [5, 6]
//     Тайлбар: Массивын урт n=8 байна. 1-ээс 8 хүртэлх тоонуудаас 5 ба 6 гэсэн тоонууд массивт байхгүй байна.
// Жишээ 2:
//     Оролт: nums = [1, 1]
//     Гаралт: [2]
//     Тайлбар: n=2 байна. 1-ээс 2 хүртэлх тооноос 2 нь байхгүй байна.
// Хязгаарлалт:
//     n==nums.length
//     1≤n≤105
//     1≤nums[i]≤n
// Rust хэл дээрх зөвлөмжүүд
// Энэ бодлогыг оновчтой шийдэхэд туслах хэдэн сонирхолтой техник бий:
//     HashSet ашиглах (Энгийн арга): Массив дахь бүх тоог HashSet-д хийгээд, дараа нь 1-ээс n хүртэл давталт ажиллуулж, аль тоо нь HashSet-д байхгүй байгааг шалгаж болно.
//         Хугацаа: O(n)
//         Санах ой: O(n)
//     In-place Marking (Давуу түвшний арга): Нэмэлт санах ой ашиглахгүйгээр (O(1) space) шийдэхийн тулд өгөгдсөн массивыг өөрийг нь ашиглаж болно.
//     Тоо бүрийн харгалзах индекс дээрх утгыг сөрөг болгож тэмдэглэх замаар аль тоо тааралдсаныг бүртгэнэ.
//         Хугацаа: O(n)
//         Санах ой: O(1) (үр дүнгийн жагсаалтыг тооцохгүйгээр)
